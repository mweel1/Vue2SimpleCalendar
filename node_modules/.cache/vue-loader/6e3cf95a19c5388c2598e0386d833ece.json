{"remainingRequest":"/Users/martinweel/Documents/repo/Vue2SimpleCalendar/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/martinweel/Documents/repo/Vue2SimpleCalendar/src/lib-components/vue2-simple-calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/martinweel/Documents/repo/Vue2SimpleCalendar/src/lib-components/vue2-simple-calendar.vue","mtime":1643914425927},{"path":"/Users/martinweel/Documents/repo/Vue2SimpleCalendar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/martinweel/Documents/repo/Vue2SimpleCalendar/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/martinweel/Documents/repo/Vue2SimpleCalendar/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/martinweel/Documents/repo/Vue2SimpleCalendar/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi8gewogIG5hbWU6ICJ2dWUyLXNpbXBsZS1jYWxlbmRhciIsCiAgcHJvcHM6IHsKICAgIGlzU2VsZWN0YWJsZTogeyB0eXBlOiBGdW5jdGlvbiwgZGVmYXVsdDogKCkgPT4gZmFsc2UgfSwKICAgIHNlbGVjdGVkOiB7IHR5cGU6IEZ1bmN0aW9uLCBkZWZhdWx0OiAoKSA9PiBmYWxzZSB9LAogICAgc2VsZWN0YWJsZUNsYXNzOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogInNlbGVjdGFibGUiIH0sCiAgICBub25TZWxlY3RhYmxlQ2xhc3M6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAibm9uU2VsZWN0YWJsZSIgfSwKICAgIGJ1dHRvbkNsYXNzOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogIm5vblNlbGVjdGFibGUiIH0sCiAgICBzdGFydERhdGU6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogbmV3IERhdGUoKSB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhbGVuZGFyOiBudWxsLAogICAgICBkYXlzOiBudWxsLAogICAgICBfX3N0YXJ0RGF0ZTogbmV3IERhdGUoKSwKICAgICAgc2VsZWN0ZWREYXk6IG51bGwsCiAgICAgIHNlbGVjdGFibGU6IHRydWUsCiAgICAgIG5vRGF5U2VsZWN0aW9uOiBmYWxzZSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc3RhcnREYXRlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgICAgdGhpcy5ub0RheVNlbGVjdGlvbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy5fX3N0YXJ0RGF0ZSA9IG5ldyBEYXRlKG5ld1ZhbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubm9EYXlTZWxlY3Rpb24gPSB0cnVlOwogICAgICAgICAgdGhpcy5fX3N0YXJ0RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmJpbmQoKTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgaXNUb2RheShkKSB7CiAgICAgIGxldCB0b2RheURheSA9IG5ldyBEYXRlKCkuZ2V0RGF0ZSgpOwogICAgICByZXR1cm4gZCA9PSB0b2RheURheTsKICAgIH0sCiAgICBnZXREYXlDbGFzc2VzKGQpIHsKICAgICAgbGV0IGM7CgogICAgICB2YXIgZHQgPSBuZXcgRGF0ZSgKICAgICAgICB0aGlzLl9fc3RhcnREYXRlLmdldEZ1bGxZZWFyKCksCiAgICAgICAgdGhpcy5fX3N0YXJ0RGF0ZS5nZXRNb250aCgpLAogICAgICAgIGQKICAgICAgKTsKCiAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQoZCkpIGMgPSAic2VsZWN0ZWQgIjsKICAgICAgZWxzZSBpZiAodGhpcy5pc1NlbGVjdGFibGUoZHQpKSBjID0gInNlbGVjdGFibGUgIjsKICAgICAgZWxzZSBjID0gIm5vblNlbGVjdGFibGUgIjsKCiAgICAgIGlmICh0aGlzLmlzVG9kYXkoZCkpIHsKICAgICAgICBjID0gYyArICJ0b2RheSI7CiAgICAgIH0KCiAgICAgIHJldHVybiBjOwogICAgfSwKICAgIGRheVNlbGVjdGVkKGRheSwgY3NzKSB7CiAgICAgIC8vIGxlYXZlIGlmIHRoaXMgaXNudCBzZWxlY3RhYmxlLCBkaWRudCB1c2UgaXNTZWxlY3RhYmxlIGJlY2F1c2UgdGhhdCBtaWdodCBub3QgYmUgcGVyZm9ybWFudAogICAgICBpZiAoY3NzLmluZGV4T2YoIm5vblNlbGVjdGFibGUiKSA+IC0xKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnNlbGVjdGVkRGF5ID0gZGF5OwoKICAgICAgdmFyIGR0ID0gbmV3IERhdGUoCiAgICAgICAgdGhpcy5fX3N0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpLAogICAgICAgIHRoaXMuX19zdGFydERhdGUuZ2V0TW9udGgoKSwKICAgICAgICBkYXkKICAgICAgKTsKCiAgICAgIHRoaXMuJGVtaXQoImRheVNlbGVjdGVkIiwgZHQpOwogICAgfSwKICAgIGlzU2VsZWN0ZWQoZGF5KSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkRGF5ID09IGRheTsKICAgIH0sCiAgICBtb3ZlTW9udGgoYSkgewogICAgICB0aGlzLm5vRGF5U2VsZWN0aW9uID0gdHJ1ZTsKCiAgICAgIHRoaXMuX19zdGFydERhdGUgPSBuZXcgRGF0ZSgKICAgICAgICB0aGlzLl9fc3RhcnREYXRlLmdldEZ1bGxZZWFyKCksCiAgICAgICAgdGhpcy5fX3N0YXJ0RGF0ZS5nZXRNb250aCgpICsgYSwKICAgICAgICAxCiAgICAgICk7CgogICAgICB0aGlzLl9fc3RhcnREYXRlLnNldE1vbnRoKHRoaXMuX19zdGFydERhdGUuZ2V0TW9udGgoKSArIGEpOwogICAgICB0aGlzLiRlbWl0KCJtb250aENoYW5nZWQiLCB0aGlzLl9fc3RhcnREYXRlKTsKICAgICAgdGhpcy5iaW5kKCk7CiAgICB9LAogICAgYmluZCgpIHsKICAgICAgdGhpcy5kYXlzID0gWyJTIiwgIk0iLCAiVCIsICJXIiwgIlQiLCAiRiIsICJTIl07CgogICAgICB0aGlzLmNhbGVuZGFyID0gW107CgogICAgICBpZiAoIXRoaXMubm9EYXlTZWxlY3Rpb24pIHsKICAgICAgICAvLyB3ZSBoYWQgdG8gc2V0IHRoZSBkYXRlIHNvCiAgICAgICAgdGhpcy5zZWxlY3RlZERheSA9IHRoaXMuX19zdGFydERhdGUuZ2V0RGF0ZSgpOwogICAgICB9CgogICAgICAvL2dldCBmaXJzdCBkYXkgb2YgbW9udGgKCiAgICAgIHZhciBmaXJzdERheSA9IG5ldyBEYXRlKAogICAgICAgIHRoaXMuX19zdGFydERhdGUuZ2V0RnVsbFllYXIoKSwKICAgICAgICB0aGlzLl9fc3RhcnREYXRlLmdldE1vbnRoKCksCiAgICAgICAgMQogICAgICApOwoKICAgICAgbGV0IHN0YXJ0ID0gZmlyc3REYXkuZ2V0RGF5KCk7CgogICAgICAvLyBob3cgbWFueSBkYXlzIGluIHRoZSBtb250aAogICAgICBsZXQgZGF5c0luTW9udGggPSBuZXcgRGF0ZSgKICAgICAgICB0aGlzLl9fc3RhcnREYXRlLmdldEZ1bGxZZWFyKCksCiAgICAgICAgdGhpcy5fX3N0YXJ0RGF0ZS5nZXRNb250aCgpICsgMSwKICAgICAgICAwCiAgICAgICkuZ2V0RGF0ZSgpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFydDsgaSsrKSB7CiAgICAgICAgdGhpcy5jYWxlbmRhci5wdXNoKCIiKTsKICAgICAgfQoKICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gZGF5c0luTW9udGg7IGkrKykgewogICAgICAgIHRoaXMuY2FsZW5kYXIucHVzaChpKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["vue2-simple-calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"vue2-simple-calendar.vue","sourceRoot":"src/lib-components","sourcesContent":["<template>\n  <div class=\"vue2-simple\" v-if=\"calendar\">\n    <div class=\"wrapper\">\n      <div class=\"monthHeader\">\n        <div class=\"monthWrapper\">\n          <div class=\"monthHeaderLeft\">\n            <button @click.prevent=\"moveMonth(-1)\" :class=\"buttonClass\">\n              <\n            </button>\n          </div>\n          <div class=\"monthHeaderMonth\" v-if=\"__startDate\">\n            {{ __startDate.toLocaleString(\"default\", { month: \"long\" }) }}\n            {{ __startDate.getFullYear() }}\n          </div>\n          <div class=\"monthHeaderYear\">\n            <button @click.prevent=\"moveMonth(1)\" :class=\"buttonClass\">\n              >\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"day\" v-for=\"d in days\">{{ d }}</div>\n\n      <div class=\"item\" v-for=\"c in calendar\">\n        <div\n          @click=\"daySelected(c, getDayClasses(c))\"\n          :class=\"getDayClasses(c)\"\n        >\n          {{ c }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default /*#__PURE__*/ {\n  name: \"vue2-simple-calendar\",\n  props: {\n    isSelectable: { type: Function, default: () => false },\n    selected: { type: Function, default: () => false },\n    selectableClass: { type: String, default: \"selectable\" },\n    nonSelectableClass: { type: String, default: \"nonSelectable\" },\n    buttonClass: { type: String, default: \"nonSelectable\" },\n    startDate: { type: Date, default: new Date() },\n  },\n  data() {\n    return {\n      calendar: null,\n      days: null,\n      __startDate: new Date(),\n      selectedDay: null,\n      selectable: true,\n      noDaySelection: false,\n    };\n  },\n  watch: {\n    startDate: {\n      immediate: true,\n      handler: function (newVal, oldVal) {\n        if (newVal) {\n          this.noDaySelection = false;\n          this.__startDate = new Date(newVal);\n        } else {\n          this.noDaySelection = true;\n          this.__startDate = new Date();\n        }\n\n        this.bind();\n      },\n    },\n  },\n  created() {},\n  methods: {\n    isToday(d) {\n      let todayDay = new Date().getDate();\n      return d == todayDay;\n    },\n    getDayClasses(d) {\n      let c;\n\n      var dt = new Date(\n        this.__startDate.getFullYear(),\n        this.__startDate.getMonth(),\n        d\n      );\n\n      if (this.isSelected(d)) c = \"selected \";\n      else if (this.isSelectable(dt)) c = \"selectable \";\n      else c = \"nonSelectable \";\n\n      if (this.isToday(d)) {\n        c = c + \"today\";\n      }\n\n      return c;\n    },\n    daySelected(day, css) {\n      // leave if this isnt selectable, didnt use isSelectable because that might not be performant\n      if (css.indexOf(\"nonSelectable\") > -1) {\n        return;\n      }\n\n      this.selectedDay = day;\n\n      var dt = new Date(\n        this.__startDate.getFullYear(),\n        this.__startDate.getMonth(),\n        day\n      );\n\n      this.$emit(\"daySelected\", dt);\n    },\n    isSelected(day) {\n      return this.selectedDay == day;\n    },\n    moveMonth(a) {\n      this.noDaySelection = true;\n\n      this.__startDate = new Date(\n        this.__startDate.getFullYear(),\n        this.__startDate.getMonth() + a,\n        1\n      );\n\n      this.__startDate.setMonth(this.__startDate.getMonth() + a);\n      this.$emit(\"monthChanged\", this.__startDate);\n      this.bind();\n    },\n    bind() {\n      this.days = [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"];\n\n      this.calendar = [];\n\n      if (!this.noDaySelection) {\n        // we had to set the date so\n        this.selectedDay = this.__startDate.getDate();\n      }\n\n      //get first day of month\n\n      var firstDay = new Date(\n        this.__startDate.getFullYear(),\n        this.__startDate.getMonth(),\n        1\n      );\n\n      let start = firstDay.getDay();\n\n      // how many days in the month\n      let daysInMonth = new Date(\n        this.__startDate.getFullYear(),\n        this.__startDate.getMonth() + 1,\n        0\n      ).getDate();\n\n      for (let i = 0; i < start; i++) {\n        this.calendar.push(\"\");\n      }\n\n      for (let i = 1; i <= daysInMonth; i++) {\n        this.calendar.push(i);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.day {\n  font-weight: bold;\n}\n.item {\n  text-align: center;\n}\n\n.monthHeaderMonth {\n  font-size: 1.5em;\n  font-weight: bold;\n  padding: 10px;\n}\n\n.item > .selectable {\n  padding: 10px;\n  border-radius: 50%;\n  color: 2a96cc;\n  border: 2px solid #2a96cc;\n  color: #2a96cc;\n  cursor: pointer;\n}\n\n.item > .selected {\n  padding: 10px;\n  border-radius: 50%;\n  background-color: #2a96cc;\n  color: white;\n  border: 1px solid #2a96cc;\n}\n\n.item > .nonSelectable {\n  color: gray;\n}\n\n.today {\n  font-weight: bolder;\n  text-decoration: underline;\n}\n\n.monthHeaderMonth {\n  text-align: center;\n}\n.monthHeaderYear {\n  text-align: right;\n}\n.monthHeader {\n  grid-column-start: 1;\n  grid-column-end: span 7;\n  min-width: 100%;\n  border-bottom: solid 1px #efefef;\n  padding-bottom: 10px;\n}\n.monthWrapper {\n  display: grid;\n  grid-template-columns: 50px auto 50px;\n}\n.wrapper {\n  display: grid;\n  justify-items: center;\n  grid-template-columns: repeat(7, 40px);\n  grid-template-rows: repeat(6, 40px);\n  gap: 5px;\n  align-items: center;\n}\n</style>\n"]}]}